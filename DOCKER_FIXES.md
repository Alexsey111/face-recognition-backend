# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ Docker - Face Recognition Service

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 1: Invalid containerPort –≤ Dockerfile.dev
**–û—à–∏–±–∫–∞:** `Invalid containerPort: #`
**–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥ EXPOSE –∏ CMD –≤—ã–∑—ã–≤–∞–ª–∏ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ Docker
**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥ EXPOSE –∏ CMD

```dockerfile
# –ë—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
EXPOSE 8000 5678  # 8000 –¥–ª—è FastAPI, 5678 –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
CMD ["uvicorn", ...] # –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã

# –°—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):
EXPOSE 8000 5678
CMD ["uvicorn", ...]
```

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ HEALTHCHECK –≤ Dockerfile
**–û—à–∏–±–∫–∞:** –†–∞–∑–±–∏—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ HEALTHCHECK –Ω–∞ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã HEALTHCHECK
**–†–µ—à–µ–Ω–∏–µ:** 
1. –î–æ–±–∞–≤–ª–µ–Ω curl –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Å–∏–Ω—Ç–∞–∫—Å–∏—Å HEALTHCHECK

```dockerfile
# –ë—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):
HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:8000/health || exit 1

# –°—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):
HEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 CMD curl -f http://localhost:8000/health || exit 1
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### Dockerfile.dev
- ‚úÖ –£–±—Ä–∞–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ EXPOSE
- ‚úÖ –£–±—Ä–∞–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ CMD
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω curl –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ Healthcheck –∫–æ–º–∞–Ω–¥—ã —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### Dockerfile
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω curl –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏  
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ HEALTHCHECK
- ‚úÖ –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ç–µ–ø–µ—Ä—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

### docker-compose.yml –∏ docker-compose.dev.yml
- ‚úÖ Healthcheck –∫–æ–º–∞–Ω–¥—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç curl (—Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö)
- ‚úÖ –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ—Ä—Ç—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–¢–µ–ø–µ—Ä—å –≤—Å–µ Docker —Ñ–∞–π–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

```bash
# Production –∑–∞–ø—É—Å–∫
docker-compose up -d

# Development –∑–∞–ø—É—Å–∫  
docker-compose -f docker-compose.dev.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤
docker-compose build
docker-compose -f docker-compose.dev.yml build
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- **API**: http://localhost:8000/health
- **MinIO Console**: http://localhost:9001
- **pgAdmin**: http://localhost:5050
- **Redis Commander**: http://localhost:8081

–í—Å–µ –æ—à–∏–±–∫–∏ Docker –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! üéâ